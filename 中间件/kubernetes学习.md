# 1 概念

![image-20230103203305253](../_img/image-20230103203305253.png)

![image-20230103203401128](../_img/image-20230103203401128.png)

# 2 网络

## 节点和Pod网络

![image-20230103204519201](../_img/image-20230103204519201.png)

## service和服务发现

![image-20230103210033215](../_img/image-20230103210033215.png)

![image-20230103225734423](../_img/image-20230103225734423.png)

## 外部流量访问k8s集群内部

![image-20230103230606724](../_img/image-20230103230606724.png)

重点还是kube-proxy和netfilter。

### NodePort

![image-20230104201143952](../_img/image-20230104201143952.png)

### LoadBlancer

![image-20230104201212319](../_img/image-20230104201212319.png)

### Ingress

![image-20230104201344928](../_img/image-20230104201344928.png)

# 3 部署

## 部署架构

![image-20230104211414973](../_img/image-20230104211414973.png)

